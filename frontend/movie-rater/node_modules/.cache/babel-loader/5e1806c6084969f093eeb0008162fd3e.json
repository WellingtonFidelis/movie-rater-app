{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\welli\\\\Documents\\\\Projects\\\\movie-rater-app\\\\frontend\\\\movie-rater\\\\src\\\\components\\\\movie-details.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MovieDetails(props) {\n  _s();\n\n  let {\n    movie\n  } = props;\n  const [highlighted, setHighlighted] = useState(-1);\n  const [token] = useCookies(['mr-token']);\n\n  const highlightRate = high => event => {\n    setHighlighted(high);\n  };\n\n  const rateClicked = rate => event => {\n    fetch(`http://127.0.0.1:8000/api/movies/${movie.id}/rate_movie/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token['mr-token']}`\n      },\n      body: JSON.stringify({\n        stars: rate + 1\n      })\n    }).then(() => getDetails()).catch(error => console.log(error));\n  };\n\n  const getDetails = () => {\n    fetch(`http://127.0.0.1:8000/api/movies/${movie.id}/`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        //Ubuntu Note'Authorization': 'Token 97621ce2baeb11f722db66ad0ecf1ce78898361b',\n        // WSL'Authorization': 'Token 8f902b9af361c445af29f69aa1683ac4fb44061a'\n        'Authorization': 'Token e29386be51ab221eaeee59a73b7d70a80428907d'\n      }\n    }).then(response => response.json()).then(response => props.updateMovie(response)).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: movie ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: movie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: movie.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: movie.avg_rating > 0 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: movie.avg_rating > 1 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: movie.avg_rating > 2 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: movie.avg_rating > 3 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: movie.avg_rating > 4 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), \"(\", movie.no_of_ratings, \")\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rate-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Rate it\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), [...Array(5)].map((element, index) => {\n          return /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faStar,\n            className: highlighted > index - 1 ? 'purple' : '',\n            onMouseEnter: highlightRate(index),\n            onMouseLeave: highlightRate(-1),\n            onClick: rateClicked(index)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 24\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MovieDetails, \"1I5LVz9+b4ekyzfIfaYFTthKSV4=\", false, function () {\n  return [useCookies];\n});\n\n_c = MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"sources":["C:/Users/welli/Documents/Projects/movie-rater-app/frontend/movie-rater/src/components/movie-details.js"],"names":["React","useState","useCookies","FontAwesomeIcon","faStar","MovieDetails","props","movie","highlighted","setHighlighted","token","highlightRate","high","event","rateClicked","rate","fetch","id","method","headers","body","JSON","stringify","stars","then","getDetails","catch","error","console","log","response","json","updateMovie","title","description","avg_rating","no_of_ratings","Array","map","element","index"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function MovieDetails(props) {\r\n\r\n  let { movie } = props;\r\n  const [highlighted, setHighlighted] = useState(-1);\r\n  const [token] = useCookies(['mr-token']);\r\n\r\n  const highlightRate = high => event => {\r\n    setHighlighted(high);\r\n  }\r\n\r\n  const rateClicked = rate => event => {\r\n    fetch(`http://127.0.0.1:8000/api/movies/${movie.id}/rate_movie/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Token ${token['mr-token']}`,\r\n      },\r\n      body: JSON.stringify({\r\n        stars: rate + 1,\r\n      }),\r\n    })\r\n      .then(() => getDetails())\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  const getDetails = () => {\r\n    fetch(`http://127.0.0.1:8000/api/movies/${movie.id}/`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        //Ubuntu Note'Authorization': 'Token 97621ce2baeb11f722db66ad0ecf1ce78898361b',\r\n        // WSL'Authorization': 'Token 8f902b9af361c445af29f69aa1683ac4fb44061a'\r\n        'Authorization': 'Token e29386be51ab221eaeee59a73b7d70a80428907d'\r\n      },\r\n    })\r\n      .then(response => response.json())\r\n      .then(response => props.updateMovie(response))\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {movie ? (\r\n        <div>\r\n          <h1>{movie.title}</h1>\r\n          <p>{movie.description}</p>\r\n          <FontAwesomeIcon icon={faStar} className={movie.avg_rating > 0 ? 'orange' : ''} />\r\n          <FontAwesomeIcon icon={faStar} className={movie.avg_rating > 1 ? 'orange' : ''} />\r\n          <FontAwesomeIcon icon={faStar} className={movie.avg_rating > 2 ? 'orange' : ''} />\r\n          <FontAwesomeIcon icon={faStar} className={movie.avg_rating > 3 ? 'orange' : ''} />\r\n          <FontAwesomeIcon icon={faStar} className={movie.avg_rating > 4 ? 'orange' : ''} />\r\n          ({movie.no_of_ratings})\r\n          <div className=\"rate-container\">\r\n            <h2>Rate it</h2>\r\n            {\r\n              [...Array(5)].map((element, index) => {\r\n                return <FontAwesomeIcon\r\n                  key={index}\r\n                  icon={faStar}\r\n                  className={highlighted > index - 1 ? 'purple' : ''}\r\n                  onMouseEnter={highlightRate(index)}\r\n                  onMouseLeave={highlightRate(-1)}\r\n                  onClick={rateClicked(index)}\r\n                />\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </React.Fragment>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}